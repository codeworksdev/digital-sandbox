/*! Mochi v1.0.0 | MIT License | getmochi.com */
function Mochi(){this._conf()._func()._html()._init()}if("undefined"==typeof jQuery)throw new Error("Mochi's JavaScript requires jQuery");+function(t){var i=t.fn.jquery.split(" ")[0].split(".");if(i[0]<2&&i[1]<9||1==i[0]&&9==i[1]&&i[2]<1)throw new Error("Mochi's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),$&&"function"==typeof $||($=jQuery),$(document).ready(function(t){window.$m=new Mochi}),Mochi.prototype={_conf:function(){return this.o={CLICK_D:"click",CLICK_M:"touchstart",DEF_FILENAME:"home",DEF_PAGE_NUMBER:0,DEF_VIEW_NUMBER:0},this.href=window.location.href,this.html=$("html"),this.body=$("body"),this.container=this.body.find("#container"),this.content=this.body.find("#content"),this.filename=/([^\\\/]+?)(?:\.\w+)?$/.test(this.href)?RegExp.$1:this.o.DEF_FILENAME,this},_func:function(){return this.GET={},this.SET={},this},_html:function(){var t=this.o,i=this.html,n=i.attr("data-page"),e=i.attr("data-view");return/^\d+$/.test(n)||i.attr("data-page",t.DEF_PAGE_NUMBER),/^\d+$/.test(e)||i.attr("data-view",t.DEF_VIEW_NUMBER),this.body.addClass("is-page-"+(/([^\\\/]+?)(?:\.\w+)?$/.test(this.href)?RegExp.$1.replace(/\W/g,"-"):this.o.DEF_FILENAME)),this},_init:function(){return this["do"]("Mochi_init")["do"]("Mochi_Page"+this.getPage()+"_load")["do"]("Mochi_View"+this.getView()+"_load")["do"]("Mochi_last"),this},_getState:function(t,i){return window.s.pad(this.html.attr("data-"+t.toLowerCase()),i?i:0,"0")},_setState:function(t,i,n){if(/^\d+$/.test(i)&&(n||i!=this["get"+t]())){var e="data-"+t.toLowerCase(),o=this.html.attr(e),s=i;return this.html.attr(e,s),this["on"+t+"Change"](o)}return this},_onStateChange:function(t,i){return this["unload"+t](i),this["load"+t](this.html.attr("data-"+t.toLowerCase())),this},_unload:function(t,i){return/^\d+$/.test(i)&&/^\w+$/.test(t)&&this["do"]("Mochi_"+t+i+"_unload"),this},_load:function(t,i){return/^\d+$/.test(i)&&/^\w+$/.test(t)&&this["do"]("Mochi_"+t+i+"_load"),this},vClickName:function(){return this.html.hasClass("no-touchevents")?this.o.CLICK_D:this.o.CLICK_M},onClick:function(t,i){return _.isFunction(i)&&(_.isElement(t)?$(t):t).on(this.vClickName(),i),this},getPage:function(t){return this._getState("Page",t)},getView:function(t){return this._getState("View",t)},setPage:function(t,i){return this._setState("Page",t,i)},setView:function(t,i){return this._setState("View",t,i)},onPageChange:function(t){return this._onStateChange("Page",t)},onViewChange:function(t){return this._onStateChange("View",t)},loadPage:function(t){return this._load("Page",t)},loadView:function(t){return this._load("View",t)},unloadPage:function(t){return this._unload("Page",t)},unloadView:function(t){return this._unload("View",t)},"do":function(f){return/^\w+$/.test(f)&&eval('if(_.isFunction(window["'+f+'"]))window["'+f+'"].call(this);'),this},cache:function(t){if(t&&"string"==typeof t){var i=new Image;i.src=t}return this},Option:function(t,i){if(arguments.length&&/^\w+$/.test(t)){if(1==arguments.length)return _.isFunction(this.GET[t])?this.GET[t]():this.o[t];_.isFunction(this.SET[t])?this.SET[t](i):this.o[t]=i}return this},extend:function(k,c,f){eval("this[k] = new c"),f&&"function"==typeof f&&f.call(this[k])}};